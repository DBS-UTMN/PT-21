# Модуль 5

## Задания
###### Аудит через триггеры
- Имплементировать аудит с помощью триггеров для любой таблицы из прошлых ЛР, логирующий следующие параметры:
  - Поле (поля) которые изменились
  - Предыдущее значения поля (полей)
  - Какой пользователь изменил данные
  - Время изменения
  - Суррогатный идентификатор изменения
- Выполнить несколько изменений, чтобы наполнить таблицы аудита
- Приложить дамп к результатам выполнения ЛР

###### Аудит через pgaudit
- Инициализировать плагин create extension pgaudit;
- Имплементировать аудит всех SQL инструкций через pgaudit
- Имплементироват аудит входа в БД через pgaudit
- Выполнить несколько изменений, чтобы наполнить лог аудита
- Приложить лог к результатам выполнения ЛР

###### Row Level Security (RLS)
- Создать три пользвотеля в БД
- Имплементировать RLS для таблицы ships по полю flags (каждый пользователель должен видеть суда только своего флага, например для пользователя 1 должен видеть суда под флагом US)
Примечание, если флагов не хвататает можно искусственно их обновить и увеличить уровень дифференцирования данных.

###### SQL-иньекции
- Создать процедуру вставки данных в таблицу (my_table заменить на лубую существующую) через процедуру со следующим DDL:
```sql
CREATE OR REPLACE PROCEDURE my_procedure(n_table text,n_column text, n_param TEXT)
AS $$
BEGIN
    execute format('INSERT INTO %s (%s) VALUES (''%s'');',n_table, n_column, n_param);
END;
$$ LANGUAGE plpgsql;
```
- Подать в параметры такие значения, после которых одна из таблиц в БД будет удалена.

